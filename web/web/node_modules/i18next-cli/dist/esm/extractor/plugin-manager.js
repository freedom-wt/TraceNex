async function t(t){for(const e of t)await(e.setup?.())}function e(t,e,a,n){return{addKey:e=>{const n=!1===e.ns?void 0:e.ns,l=n??a.extract?.defaultNS??"translation",s=void 0===n,u=`${String(l)}:${e.key}`,i=e.defaultValue??e.key,o=t.get(u);if(o){const n=o.defaultValue===o.key||o.hasCount&&o.defaultValue&&o.key.includes("_")&&o.key.startsWith(o.defaultValue),f=i===e.key;n&&!f&&t.set(u,{...e,ns:l||a.extract?.defaultNS||"translation",nsIsImplicit:s,defaultValue:i})}else t.set(u,{...e,ns:l||a.extract?.defaultNS||"translation",nsIsImplicit:s,defaultValue:i})},config:Object.freeze({...a,plugins:[...e]}),logger:n,getVarFromScope:()=>{}}}export{e as createPluginContext,t as initializePlugins};
