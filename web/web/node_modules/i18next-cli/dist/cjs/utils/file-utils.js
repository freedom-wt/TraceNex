"use strict";var e=require("node:fs/promises"),t=require("node:path"),r=require("jiti"),s=require("../config.js");exports.getOutputPath=function(e,t,r=""){return e.replace("{{language}}",t).replace("{{lng}}",t).replace("{{namespace}}",r).replace("{{ns}}",r)},exports.loadTranslationFile=async function(n){const a=t.resolve(process.cwd(),n);try{await e.access(a)}catch{return null}try{const n=t.extname(a).toLowerCase();if(".json"===n){const t=await e.readFile(a,"utf-8");return JSON.parse(t)}if(".ts"===n||".js"===n){const e=await s.getTsConfigAliases(),t=r.createJiti(process.cwd(),{alias:e,interopDefault:!0});return await t.import(a,{default:!0})}return null}catch(e){return console.warn(`Could not parse translation file ${n}:`,e),null}},exports.serializeTranslationFile=function(e,t="json",r=2){const s=JSON.stringify(e,null,r);switch(t){case"js":case"js-esm":return`export default ${s};\n`;case"js-cjs":return`module.exports = ${s};\n`;case"ts":return`export default ${s} as const;\n`;default:return`${s}\n`}};
